"use strict";(self.webpackChunkquran_web_app=self.webpackChunkquran_web_app||[]).push([[406],{406:(e,t,s)=>{s.r(t),s.d(t,{SearchPage:()=>ee});var r=s(43),n=s(615),i=s(159),a=s(960),u=s(988),c=s(614);function o(e){return Array.isArray?Array.isArray(e):"[object Array]"===m(e)}function h(e){return"string"===typeof e}function l(e){return"number"===typeof e}function d(e){return!0===e||!1===e||function(e){return g(e)&&null!==e}(e)&&"[object Boolean]"==m(e)}function g(e){return"object"===typeof e}function f(e){return void 0!==e&&null!==e}function p(e){return!e.trim().length}function m(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const x=Object.prototype.hasOwnProperty;class A{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(e=>{let s=y(e);this._keys.push(s),this._keyMap[s.id]=s,t+=s.weight}),this._keys.forEach(e=>{e.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function y(e){let t=null,s=null,r=null,n=1,i=null;if(h(e)||o(e))r=e,t=C(e),s=v(e);else{if(!x.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const a=e.name;if(r=a,x.call(e,"weight")&&(n=e.weight,n<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(a));t=C(a),s=v(a),i=e.getFn}return{path:t,id:s,weight:n,src:r,getFn:i}}function C(e){return o(e)?e:e.split(".")}function v(e){return o(e)?e.join("."):e}var E={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let s=[],r=!1;const n=(e,t,i)=>{if(f(e))if(t[i]){const a=e[t[i]];if(!f(a))return;if(i===t.length-1&&(h(a)||l(a)||d(a)))s.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(a));else if(o(a)){r=!0;for(let e=0,s=a.length;e<s;e+=1)n(a[e],t,i+1)}else t.length&&n(a,t,i+1)}else s.push(e)};return n(e,h(t)?t.split("."):t,0),r?s:s[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const F=/[^ ]+/g;class M{constructor(){let{getFn:e=E.getFn,fieldNormWeight:t=E.fieldNormWeight}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.norm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;const s=new Map,r=Math.pow(10,t);return{get(t){const n=t.match(F).length;if(s.has(n))return s.get(n);const i=1/Math.pow(n,.5*e),a=parseFloat(Math.round(i*r)/r);return s.set(n,a),a},clear(){s.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=e}setIndexRecords(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=e}setKeys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=e,this._keysMap={},e.forEach((e,t)=>{this._keysMap[e.id]=t})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,h(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();h(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,s=this.size();t<s;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!f(e)||p(e))return;let s={v:e,i:t,n:this.norm.get(e)};this.records.push(s)}_addObject(e,t){let s={i:t,$:{}};this.keys.forEach((t,r)=>{let n=t.getFn?t.getFn(e):this.getFn(e,t.path);if(f(n))if(o(n)){let e=[];const t=[{nestedArrIndex:-1,value:n}];for(;t.length;){const{nestedArrIndex:s,value:r}=t.pop();if(f(r))if(h(r)&&!p(r)){let t={v:r,i:s,n:this.norm.get(r)};e.push(t)}else o(r)&&r.forEach((e,s)=>{t.push({nestedArrIndex:s,value:e})})}s.$[r]=e}else if(h(n)&&!p(n)){let e={v:n,n:this.norm.get(n)};s.$[r]=e}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function b(e,t){let{getFn:s=E.getFn,fieldNormWeight:r=E.fieldNormWeight}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=new M({getFn:s,fieldNormWeight:r});return n.setKeys(e.map(y)),n.setSources(t),n.create(),n}function B(e){let{errors:t=0,currentLocation:s=0,expectedLocation:r=0,distance:n=E.distance,ignoreLocation:i=E.ignoreLocation}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t/e.length;if(i)return a;const u=Math.abs(r-s);return n?a+u/n:u?1:a}const D=32;function k(e,t,s){let{location:r=E.location,distance:n=E.distance,threshold:i=E.threshold,findAllMatches:a=E.findAllMatches,minMatchCharLength:u=E.minMatchCharLength,includeMatches:c=E.includeMatches,ignoreLocation:o=E.ignoreLocation}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t.length>D)throw new Error(`Pattern length exceeds max of ${D}.`);const h=t.length,l=e.length,d=Math.max(0,Math.min(r,l));let g=i,f=d;const p=u>1||c,m=p?Array(l):[];let x;for(;(x=e.indexOf(t,f))>-1;){let e=B(t,{currentLocation:x,expectedLocation:d,distance:n,ignoreLocation:o});if(g=Math.min(e,g),f=x+h,p){let e=0;for(;e<h;)m[x+e]=1,e+=1}}f=-1;let A=[],y=1,C=h+l;const v=1<<h-1;for(let E=0;E<h;E+=1){let r=0,i=C;for(;r<i;){B(t,{errors:E,currentLocation:d+i,expectedLocation:d,distance:n,ignoreLocation:o})<=g?r=i:C=i,i=Math.floor((C-r)/2+r)}C=i;let u=Math.max(1,d-i+1),c=a?l:Math.min(d+i,l)+h,x=Array(c+2);x[c+1]=(1<<E)-1;for(let a=c;a>=u;a-=1){let r=a-1,i=s[e.charAt(r)];if(p&&(m[r]=+!!i),x[a]=(x[a+1]<<1|1)&i,E&&(x[a]|=(A[a+1]|A[a])<<1|1|A[a+1]),x[a]&v&&(y=B(t,{errors:E,currentLocation:r,expectedLocation:d,distance:n,ignoreLocation:o}),y<=g)){if(g=y,f=r,f<=d)break;u=Math.max(1,2*d-f)}}if(B(t,{errors:E+1,currentLocation:d,expectedLocation:d,distance:n,ignoreLocation:o})>g)break;A=x}const F={isMatch:f>=0,score:Math.max(.001,y)};if(p){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.minMatchCharLength,s=[],r=-1,n=-1,i=0;for(let a=e.length;i<a;i+=1){let a=e[i];a&&-1===r?r=i:a||-1===r||(n=i-1,n-r+1>=t&&s.push([r,n]),r=-1)}return e[i-1]&&i-r>=t&&s.push([r,i-1]),s}(m,u);e.length?c&&(F.indices=e):F.isMatch=!1}return F}function S(e){let t={};for(let s=0,r=e.length;s<r;s+=1){const n=e.charAt(s);t[n]=(t[n]||0)|1<<r-s-1}return t}const L=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class w{constructor(e){let{location:t=E.location,threshold:s=E.threshold,distance:r=E.distance,includeMatches:n=E.includeMatches,findAllMatches:i=E.findAllMatches,minMatchCharLength:a=E.minMatchCharLength,isCaseSensitive:u=E.isCaseSensitive,ignoreDiacritics:c=E.ignoreDiacritics,ignoreLocation:o=E.ignoreLocation}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options={location:t,threshold:s,distance:r,includeMatches:n,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:u,ignoreDiacritics:c,ignoreLocation:o},e=u?e:e.toLowerCase(),e=c?L(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const h=(e,t)=>{this.chunks.push({pattern:e,alphabet:S(e),startIndex:t})},l=this.pattern.length;if(l>D){let e=0;const t=l%D,s=l-t;for(;e<s;)h(this.pattern.substr(e,D),e),e+=D;if(t){const e=l-D;h(this.pattern.substr(e),e)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:s,includeMatches:r}=this.options;if(e=t?e:e.toLowerCase(),e=s?L(e):e,this.pattern===e){let t={isMatch:!0,score:0};return r&&(t.indices=[[0,e.length-1]]),t}const{location:n,distance:i,threshold:a,findAllMatches:u,minMatchCharLength:c,ignoreLocation:o}=this.options;let h=[],l=0,d=!1;this.chunks.forEach(t=>{let{pattern:s,alphabet:g,startIndex:f}=t;const{isMatch:p,score:m,indices:x}=k(e,s,g,{location:n+f,distance:i,threshold:a,findAllMatches:u,minMatchCharLength:c,includeMatches:r,ignoreLocation:o});p&&(d=!0),l+=m,p&&x&&(h=[...h,...x])});let g={isMatch:d,score:d?l/this.chunks.length:1};return d&&r&&(g.indices=h),g}}class j{constructor(e){this.pattern=e}static isMultiMatch(e){return N(e,this.multiRegex)}static isSingleMatch(e){return N(e,this.singleRegex)}search(){}}function N(e,t){const s=e.match(t);return s?s[1]:null}class _ extends j{constructor(e){let{location:t=E.location,threshold:s=E.threshold,distance:r=E.distance,includeMatches:n=E.includeMatches,findAllMatches:i=E.findAllMatches,minMatchCharLength:a=E.minMatchCharLength,isCaseSensitive:u=E.isCaseSensitive,ignoreDiacritics:c=E.ignoreDiacritics,ignoreLocation:o=E.ignoreLocation}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this._bitapSearch=new w(e,{location:t,threshold:s,distance:r,includeMatches:n,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:u,ignoreDiacritics:c,ignoreLocation:o})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class I extends j{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,s=0;const r=[],n=this.pattern.length;for(;(t=e.indexOf(this.pattern,s))>-1;)s=t+n,r.push([t,s-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const $=[class extends j{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},I,class extends j{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends j{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends j{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends j{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends j{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},_],R=$.length,O=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const W=new Set([_.type,I.type]);class z{constructor(e){let{isCaseSensitive:t=E.isCaseSensitive,ignoreDiacritics:s=E.ignoreDiacritics,includeMatches:r=E.includeMatches,minMatchCharLength:n=E.minMatchCharLength,ignoreLocation:i=E.ignoreLocation,findAllMatches:a=E.findAllMatches,location:u=E.location,threshold:c=E.threshold,distance:o=E.distance}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:s,includeMatches:r,minMatchCharLength:n,findAllMatches:a,ignoreLocation:i,location:u,threshold:c,distance:o},e=t?e:e.toLowerCase(),e=s?L(e):e,this.pattern=e,this.query=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split("|").map(e=>{let s=e.trim().split(O).filter(e=>e&&!!e.trim()),r=[];for(let n=0,i=s.length;n<i;n+=1){const e=s[n];let i=!1,a=-1;for(;!i&&++a<R;){const s=$[a];let n=s.isMultiMatch(e);n&&(r.push(new s(n,t)),i=!0)}if(!i)for(a=-1;++a<R;){const s=$[a];let n=s.isSingleMatch(e);if(n){r.push(new s(n,t));break}}}return r})}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:r,ignoreDiacritics:n}=this.options;e=r?e:e.toLowerCase(),e=n?L(e):e;let i=0,a=[],u=0;for(let c=0,o=t.length;c<o;c+=1){const r=t[c];a.length=0,i=0;for(let t=0,n=r.length;t<n;t+=1){const n=r[t],{isMatch:c,indices:o,score:h}=n.search(e);if(!c){u=0,i=0,a.length=0;break}if(i+=1,u+=h,s){const e=n.constructor.type;W.has(e)?a=[...a,...o]:a.push(o)}}if(i){let e={isMatch:!0,score:u/i};return s&&(e.indices=a),e}}return{isMatch:!1,score:1}}}const T=[];function q(e,t){for(let s=0,r=T.length;s<r;s+=1){let r=T[s];if(r.condition(e,t))return new r(e,t)}return new w(e,t)}const P="$and",J="$or",K="$path",Q="$val",U=e=>!(!e[P]&&!e[J]),V=e=>({[P]:Object.keys(e).map(t=>({[t]:e[t]}))});function Z(e,t){let{auto:s=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e=>{let n=Object.keys(e);const i=(e=>!!e[K])(e);if(!i&&n.length>1&&!U(e))return r(V(e));if((e=>!o(e)&&g(e)&&!U(e))(e)){const r=i?e[K]:n[0],a=i?e[Q]:e[r];if(!h(a))throw new Error((e=>`Invalid value for key ${e}`)(r));const u={keyId:v(r),pattern:a};return s&&(u.searcher=q(a,t)),u}let a={children:[],operator:n[0]};return n.forEach(t=>{const s=e[t];o(s)&&s.forEach(e=>{a.children.push(r(e))})}),a};return U(e)||(e=V(e)),r(e)}function G(e,t){const s=e.matches;t.matches=[],f(s)&&s.forEach(e=>{if(!f(e.indices)||!e.indices.length)return;const{indices:s,value:r}=e;let n={indices:s,value:r};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)})}function H(e,t){t.score=e.score}class X{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;this.options={...E,...t},this.options.useExtendedSearch,this._keyStore=new A(this.options.keys),this.setCollection(e,s)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof M))throw new Error("Incorrect 'index' type");this._myIndex=t||b(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){f(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>!1;const t=[];for(let s=0,r=this._docs.length;s<r;s+=1){const n=this._docs[s];e(n,s)&&(this.removeAt(s),s-=1,r-=1,t.push(n))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e){let{limit:t=-1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{includeMatches:s,includeScore:r,shouldSort:n,sortFn:i,ignoreFieldNorm:a}=this.options;let u=h(e)?h(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,t){let{ignoreFieldNorm:s=E.ignoreFieldNorm}=t;e.forEach(e=>{let t=1;e.matches.forEach(e=>{let{key:r,norm:n,score:i}=e;const a=r?r.weight:null;t*=Math.pow(0===i&&a?Number.EPSILON:i,(a||1)*(s?1:n))}),e.score=t})}(u,{ignoreFieldNorm:a}),n&&u.sort(i),l(t)&&t>-1&&(u=u.slice(0,t)),function(e,t){let{includeMatches:s=E.includeMatches,includeScore:r=E.includeScore}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=[];return s&&n.push(G),r&&n.push(H),e.map(e=>{const{idx:s}=e,r={item:t[s],refIndex:s};return n.length&&n.forEach(t=>{t(e,r)}),r})}(u,this._docs,{includeMatches:s,includeScore:r})}_searchStringList(e){const t=q(e,this.options),{records:s}=this._myIndex,r=[];return s.forEach(e=>{let{v:s,i:n,n:i}=e;if(!f(s))return;const{isMatch:a,score:u,indices:c}=t.searchIn(s);a&&r.push({item:s,idx:n,matches:[{score:u,value:s,norm:i,indices:c}]})}),r}_searchLogical(e){const t=Z(e,this.options),s=(e,t,r)=>{if(!e.children){const{keyId:s,searcher:n}=e,i=this._findMatches({key:this._keyStore.get(s),value:this._myIndex.getValueForItemAtKeyId(t,s),searcher:n});return i&&i.length?[{idx:r,item:t,matches:i}]:[]}const n=[];for(let i=0,a=e.children.length;i<a;i+=1){const a=e.children[i],u=s(a,t,r);if(u.length)n.push(...u);else if(e.operator===P)return[]}return n},r=this._myIndex.records,n={},i=[];return r.forEach(e=>{let{$:r,i:a}=e;if(f(r)){let e=s(t,r,a);e.length&&(n[a]||(n[a]={idx:a,item:r,matches:[]},i.push(n[a])),e.forEach(e=>{let{matches:t}=e;n[a].matches.push(...t)}))}}),i}_searchObjectList(e){const t=q(e,this.options),{keys:s,records:r}=this._myIndex,n=[];return r.forEach(e=>{let{$:r,i:i}=e;if(!f(r))return;let a=[];s.forEach((e,s)=>{a.push(...this._findMatches({key:e,value:r[s],searcher:t}))}),a.length&&n.push({idx:i,item:r,matches:a})}),n}_findMatches(e){let{key:t,value:s,searcher:r}=e;if(!f(s))return[];let n=[];if(o(s))s.forEach(e=>{let{v:s,i:i,n:a}=e;if(!f(s))return;const{isMatch:u,score:c,indices:o}=r.searchIn(s);u&&n.push({score:c,key:t,value:s,idx:i,norm:a,indices:o})});else{const{v:e,n:i}=s,{isMatch:a,score:u,indices:c}=r.searchIn(e);a&&n.push({score:u,key:t,value:e,norm:i,indices:c})}return n}}X.version="7.1.0",X.createIndex=b,X.parseIndex=function(e){let{getFn:t=E.getFn,fieldNormWeight:s=E.fieldNormWeight}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{keys:r,records:n}=e,i=new M({getFn:t,fieldNormWeight:s});return i.setKeys(r),i.setIndexRecords(n),i},X.config=E,X.parseQuery=Z,function(){T.push(...arguments)}(z);var Y=s(579);const ee=()=>{const e=(0,n.Zp)(),[t,s]=(0,r.useState)([]),[o,h]=(0,r.useState)(!1),[l,d]=(0,r.useState)(""),[g,f]=(0,r.useState)({surahs:[],ayahs:[]}),[p,m]=(0,r.useState)([]),{language:x,isEnglishEnabled:A,isBanglaEnabled:y}=(0,u.ok)(),[C,v]=(0,r.useState)([]),[E,F]=(0,r.useState)("all"),[M,b]=(0,r.useState)("all"),B=(0,r.useMemo)(()=>["mercy","patience","forgiveness","justice","gratitude","guidance","faith","charity"],[]),[D,k]=(0,r.useState)([]),[S,L]=(0,r.useState)(20),w=(0,r.useRef)(null);(0,r.useEffect)(()=>{(async()=>{try{sessionStorage.clear();const e=await(0,a.vi)(),t=e.slice(0,10).map(e=>(0,a.MN)(e.id)),s=(await Promise.all(t)).flat();console.log(`Loaded ${s.length} verses from ${e.length} surahs for search`),f({surahs:e,ayahs:s})}catch(e){console.error("Failed to load search data:",e)}})(),m((0,c.FA)())},[]);const j=e=>{d(e),(async e=>{if(!e.trim())return v([]),s([]),void L(20);h(!0);try{const t=[];new X(g.surahs,{keys:["englishName","banglaName"],threshold:.3}).search(e).forEach(e=>{const s=g.ayahs.find(t=>t.surahId===e.item.id);s&&t.push({ayah:s,surah:e.item,matchType:"surah_name",highlightedText:e.item.englishName})});const r=[];if(A&&r.push("english"),y&&r.push("bangla"),r.length>0){new X(g.ayahs,{keys:r,threshold:.4}).search(e).forEach(e=>{const s=g.surahs.find(t=>t.id===e.item.surahId);if(s){var r,n,i,a;const u=(null===(r=e.matches)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.key)||"english";t.push({ayah:e.item,surah:s,matchType:u,highlightedText:(null===(i=e.matches)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.value)||""})}})}const n=t.filter((e,t,s)=>t===s.findIndex(t=>t.ayah.id===e.ayah.id));v(n);let i=n;"all"!==E&&(i=i.filter(e=>e.ayah.surahId===E)),"all"!==M&&(i=i.filter(e=>e.ayah.juzNumber===M)),D.length>0&&(i=i.filter(e=>{const t=`${e.ayah.english} ${e.ayah.bangla}`.toLowerCase();return D.some(e=>t.includes(e.toLowerCase()))})),L(20),s(i.slice(0,20))}catch(t){console.error("Search failed:",t),s([])}finally{h(!1)}})(e),m((0,c.FA)())};(0,r.useEffect)(()=>{let e=C;"all"!==E&&(e=e.filter(e=>e.ayah.surahId===E)),"all"!==M&&(e=e.filter(e=>e.ayah.juzNumber===M)),D.length>0&&(e=e.filter(e=>{const t=`${e.ayah.english} ${e.ayah.bangla}`.toLowerCase();return D.some(e=>t.includes(e.toLowerCase()))})),L(20),s(e.slice(0,20))},[E,M,D,C]),(0,r.useEffect)(()=>{const e=w.current;if(!e)return;const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&L(e=>Math.min(e+20,C.length))})});return t.observe(e),()=>t.disconnect()},[C.length]);return(0,Y.jsxs)("div",{className:"space-y-6",children:[(0,Y.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,Y.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"Search the Qur'an"}),(0,Y.jsx)(i.IW,{onSearch:j,placeholder:"Search for verses, keywords, or Surah names..."}),(0,Y.jsxs)("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,Y.jsxs)("div",{children:[(0,Y.jsx)("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:"Surah"}),(0,Y.jsxs)("select",{value:E,onChange:e=>F("all"===e.target.value?"all":parseInt(e.target.value)),className:"w-full text-sm bg-transparent border border-gray-300 dark:border-gray-600 rounded px-2 py-1",children:[(0,Y.jsx)("option",{value:"all",children:"All"}),g.surahs.map(e=>(0,Y.jsxs)("option",{value:e.id,children:[e.id,". ",e.englishName]},e.id))]})]}),(0,Y.jsxs)("div",{children:[(0,Y.jsx)("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:"Juz"}),(0,Y.jsxs)("select",{value:M,onChange:e=>b("all"===e.target.value?"all":parseInt(e.target.value)),className:"w-full text-sm bg-transparent border border-gray-300 dark:border-gray-600 rounded px-2 py-1",children:[(0,Y.jsx)("option",{value:"all",children:"All"}),Array.from({length:30},(e,t)=>t+1).map(e=>(0,Y.jsxs)("option",{value:e,children:["Juz ",e]},e))]})]}),(0,Y.jsxs)("div",{children:[(0,Y.jsx)("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:"Themes"}),(0,Y.jsx)("div",{className:"flex flex-wrap gap-2",children:B.map(e=>{const t=D.includes(e);return(0,Y.jsx)("button",{type:"button",onClick:()=>k(s=>t?s.filter(t=>t!==e):[...s,e]),className:"px-2 py-1 text-xs rounded-full border "+(t?"bg-primary-600 text-white border-primary-600":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200"),children:e},e)})})]})]}),p.length>0&&(0,Y.jsxs)("div",{className:"mt-4",children:[(0,Y.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Y.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Recent searches"}),(0,Y.jsx)("button",{onClick:()=>{(0,c.Wf)(),m([])},className:"text-xs text-red-600 dark:text-red-400 hover:underline",children:"Clear"})]}),(0,Y.jsx)("div",{className:"flex flex-wrap gap-2",children:p.map((e,t)=>(0,Y.jsx)("button",{onClick:()=>j(e),className:"px-2 py-1 text-xs rounded-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600",children:e},`${e}-${t}`))})]})]}),(0,Y.jsx)(i.LT,{results:t.slice(0,S),loading:o,query:l,onResultClick:(t,s)=>{e(`/surah/${t}`)}}),(0,Y.jsx)("div",{ref:w,className:"h-8"}),!l&&(0,Y.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6",children:[(0,Y.jsx)("h3",{className:"text-lg font-medium text-blue-900 dark:text-blue-200 mb-3",children:"Search Tips"}),(0,Y.jsxs)("ul",{className:"text-blue-800 dark:text-blue-300 space-y-2 text-sm",children:[(0,Y.jsx)("li",{children:"\u2022 Search for specific words or phrases in translations"}),(0,Y.jsx)("li",{children:"\u2022 Use Surah names to find specific chapters"}),(0,Y.jsx)("li",{children:"\u2022 Search works in both English and Bengali based on your language settings"}),(0,Y.jsx)("li",{children:"\u2022 Results are limited to the first 5 Surahs for demo purposes"})]})]})]})}}}]);
//# sourceMappingURL=406.b0875ecb.chunk.js.map